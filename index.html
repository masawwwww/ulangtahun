<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Selamat Ulang Tahun, Sayang ❤️</title>
  <meta name="description" content="Ucapan ulang tahun spesial untuk pasangan — kejutan dari hati." />
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#ff6b6b;--muted:#b8c1cc}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;color:#eef2ff;background:linear-gradient(180deg,#071028 0%, #071b2e 50%, #0b1220 100%);}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}
    .card{width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:20px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
    header{display:flex;gap:16px;align-items:center}
    .avatar{width:84px;height:84px;border-radius:16px;background:linear-gradient(135deg,#ff9a9e,#fad0c4);display:flex;align-items:center;justify-content:center;font-weight:700;color:#371b1b;font-size:28px}
    h1{margin:0;font-size:26px}
    p{color:var(--muted);margin:8px 0 18px}
    .message{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px;margin-bottom:18px}

    .actions{display:flex;gap:12px;flex-wrap:wrap}
    .btn{padding:12px 18px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,#ff6b6b,#ff8e72);color:white}
    .btn-outline{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    .reveal{margin-top:12px;padding:18px;background:linear-gradient(90deg,rgba(255,107,107,0.06),rgba(255,142,114,0.03));border-radius:12px}
    .gift-link{display:inline-block;margin-top:8px;text-decoration:none;padding:10px 14px;border-radius:10px;background:rgba(255,255,255,0.03);font-weight:700}

    .footer{font-size:13px;color:var(--muted);margin-top:14px}

    /* confetti canvas */
    #confetti{position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none}

    /* responsive */
    @media (max-width:520px){.card{padding:18px}.avatar{width:64px;height:64px;font-size:22px}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main">
      <canvas id="confetti"></canvas>
      <header>
        <div class="avatar" id="avatar">N</div>
        <div>
          <h1 id="title">Selamat Ulang Tahun, Nabila Sayang!</h1>
          <p id="subtitle">Untukmu — sumber cahayaku setiap hari.</p>
        </div>
      </header>

      <section class="message">
        <p id="mainMessage">Dalam diam aku merayakanmu — selamat ulang tahun.</p>

        <div class="reveal" id="revealArea" style="display:block;">
          <div><strong>Kejutan:</strong></div>
          <a id="giftLink" class="gift-link" href="https://hadiah-spesialmu.com" target="_blank" rel="noopener">Buka Hadiah Spesialmu</a>
        </div>
      </section>

      <div class="actions">
        <button class="btn btn-primary" id="playBtn">Putar Lagu Kejutan</button>
        <button class="btn btn-outline" id="confettiBtn">Nyalakan Konfeti</button>
        <button class="btn btn-outline" id="copyBtn">Salin Link Halaman</button>
      </div>

      <div class="footer">
        <div id="signature">Dari: <strong>Pasanganmu</strong></div>
      </div>

    </div>
  </div>

  <audio id="song" src="" preload="none"></audio>

  <script>
    // --- Simple personalization (edit directly) ---
    const partnerName = 'Nabila Sayang'; // ganti nama pasangan di sini
    const signatureName = 'Dari: Pasanganmu'; // ganti nama pengirim
    const giftUrl = 'https://hadiah-spesialmu.com'; // ganti alamat hadiah/kejutannya
    const songUrl = ''; // optional: isi URL mp3 publik jika ingin musik otomatis

    // apply personalization
    document.getElementById('title').textContent = `Selamat Ulang Tahun, ${partnerName}!`;
    document.getElementById('avatar').textContent = partnerName.charAt(0).toUpperCase();
    document.getElementById('signature').innerHTML = `Dari: <strong>${signatureName.replace(/^Dari:\s*/,'')}</strong>`;
    document.getElementById('giftLink').href = giftUrl;
    if(songUrl){ document.getElementById('song').src = songUrl; }

    // copy page link button
    document.getElementById('copyBtn').addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(location.href);
        alert('Link halaman disalin ke clipboard!');
      }catch(e){
        prompt('Salin link ini:', location.href);
      }
    });

    // play/pause music
    const song = document.getElementById('song');
    const playBtn = document.getElementById('playBtn');
    playBtn.addEventListener('click', ()=>{
      if(!song.src){ alert('Belum ada lagu terpasang. Jika ingin, tempelkan URL file mp3 publik ke variabel songUrl pada kode.'); return; }
      if(song.paused){ song.play(); playBtn.textContent = 'Jeda Lagu'; } else { song.pause(); playBtn.textContent = 'Putar Lagu Kejutan'; }
    });

    // confetti (simple particles)
    const confettiBtn = document.getElementById('confettiBtn');
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let W=canvas.width=window.innerWidth, H=canvas.height=window.innerHeight; window.addEventListener('resize', ()=>{W=canvas.width=window.innerWidth; H=canvas.height=window.innerHeight});

    function random(min,max){return Math.random()*(max-min)+min}
    let particles = [];
    function makeConfetti(){
      particles = [];
      for(let i=0;i<160;i++){
        particles.push({x:random(0,W), y:random(-H,0), r:random(6,12), d:random(10,30), tilt:random(-10,10), color:`hsl(${Math.floor(random(0,360))},70%,60%)`, speed:random(1,4)});
      }
      runConfetti();
    }
    function runConfetti(){
      let t=0;
      const id = setInterval(()=>{
        ctx.clearRect(0,0,W,H);
        for(let p of particles){
          p.y += p.speed; p.tilt += 0.1; p.x += Math.sin(t+p.d)*0.5;
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.tilt*0.02);
          ctx.fillStyle = p.color; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6);
          ctx.restore();
        }
        t += 0.02;
        if(particles.every(p=>p.y>H+20)){ clearInterval(id); ctx.clearRect(0,0,W,H); }
      },16);
    }
    confettiBtn.addEventListener('click', ()=>{ makeConfetti(); });

    // small accessibility: focus first button
    playBtn.focus();
  </script>
</body>
</html>
